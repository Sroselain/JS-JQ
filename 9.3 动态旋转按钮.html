<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>按钮</title>
    <style>
        #container{
            width:800px;
            height:500px;
            margin: 0 auto;
            position:relative;
        }
        #button{
            width:60px;
            height:30px;
            background-color: white;
            border-radius:15px;
            position:absolute;
            top:50%;
            left:50%;
            margin-top:-15px;
            margin-left:-30px;
        }
        #centerCircle{
            width:20px;
            height:20px;
            border-radius:10px;
            position:absolute;
            top:5px;
        }

        .pink{
            background-color:pink;
        }
        .blue{
            background-color:lightskyblue;
        }
        .right{
            left:35px;
        }
        .left{
            left:5px;
        }


        @keyframes btnAnima1 {
            50%{transform:rotate(45deg)}
            100%{transform:rotate(0deg)}
        }
        @keyframes btnAnima2 {
            50%{transform:rotate(-45deg)}
            100%{transform:rotate(0deg)}
        }
        @keyframes bgColorAnima1 {
            100%{background-color: lightskyblue}
        }
        @keyframes bgColorAnima2 {
            100%{background-color: pink}
        }
        @keyframes circleAnima1 {
            100%{left:30px;background-color: lightskyblue}
        }
        @keyframes circleAnima2 {
            100%{left:5px;background-color: pink}
        }

        .turnUp{
            animation:btnAnima1 1s linear;
        }
        .turnDown{
            animation:btnAnima2 1s linear;
        }
        .circleRight{
            animation:circleAnima1 1s linear;
        }
        .circleLeft{
            animation:circleAnima2 1s linear;
        }
        .changeBlue{
            animation:bgColorAnima1 1s;
        }
        .changePink{
            animation:bgColorAnima2 1s;
        }
    </style>
</head>
<body>
    <div id="container" class="pink">
        <div id="button">
            <div id="centerCircle" class="pink left"></div>
        </div>
    </div>


    <script>
        var btnCircle=document.getElementById("centerCircle");
        var map=document.getElementById("container");
        var btn=document.getElementById("button");
        var tol=1;
        btnCircle.addEventListener("click",function(){
            if(tol===1){
                btn.setAttribute("class","turnUp");
                btnCircle.setAttribute("class",btnCircle.getAttribute("class")+" circleRight");
                map.setAttribute("class","changeBlue");


                setTimeout(function(){
                    btnCircle.setAttribute("class","right blue");
                    map.setAttribute("class","blue");
                },1000);


                tol=2;
            }else if(tol===2){
                btn.setAttribute("class","turnDown");
                btnCircle.setAttribute("class",btnCircle.getAttribute("class")+" circleLeft");
                map.setAttribute("class","changePink");


                setTimeout(function(){
                    btnCircle.setAttribute("class","left pink");
                    map.setAttribute("class","pink");
                },1000);


                tol=1;
            }
        });

    </script>
</body>
</html>